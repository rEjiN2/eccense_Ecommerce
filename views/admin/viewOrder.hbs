
 <div class="main-panel">
          <div class="content-wrapper">
            <div class="row">
              <div class="col-lg-12 grid-margin stretch-card">
                <div class="card">
                  <div class="card-body">
                    <h4 class="card-title">Proudcts</h4>
                   
                    <div class="table-responsive">
    <table id="productsTable" class="table mt-5">
                        <thead>
                          <tr>
                            <th>Product Name</th>
                            <th>Category</th>
                            <th>Status</th>
                            
                            <th>Image</th>
                            <th>Quantity</th>
                            
                           
                            <th>Action</th>
                          </tr>
                        </thead>
                        <tbody>
                          {{#each products}}
                          <tr>
                            <td>{{this.product.title}}</td>
                            <td>{{this.product.category}}</td>
                           
                            <td>{{this.status}}</td>
                            <td><img style="width: 50px; height: 50px;" src="/pro-images/{{product.image.[0]}}"></td>
                            <td>{{this.quantity}}</td>

                            
                           
                            <td> <select  onchange="deliveryStatusUpdate(value,'{{this._id}}','{{this.item}}')">
                <option value="{{this.status}}" selected>
                    {{this.status}}
                  </option
                 {{#ifEquals this.status 'placed'}}
                    <option value="Shipped">Shipped</option>
                    <option value="Delivered">Delivered</option>
                    <option value="Cancelled">Cancelled</option>
                     <option value="Shipped">Shipped</option>
                 {{/ifEquals}}
                 {{#ifEquals this.status 'Delivered'}}
                 {{/ifEquals}}
                  {{#ifEquals this.status 'Cancelled'}}
                 {{/ifEquals}}
                 {{#ifEquals this.status 'Shipped'}}
                   <option value="Delivered">Delivered</option>
                   <option value="Cancelled">Cancelled</option>
                   <option value="Delivered">Delivered</option>
                 {{/ifEquals}}

                </select></td>
                            
                          </tr>
                            {{/each}}
                        </tbody>
                      </table>
                      </div>
                  </div>
                </div>
              </div>
              </div>
              </div>

                      

<script type="text/javascript">
    
function deliveryStatusUpdate(value,orderId,productId){
  console.log(value)
   console.log(orderId);
  console.log(productId)
   $.ajax({
          url: '/admin/orderedProductStatus',
          method: 'post',
          data:{
               status:value,
               orderId: orderId,
               productId:productId
          },
           success:(response)=>{
              alert("YES STATUS UPDATED")
              location.reload();
           }
       })
}
</script>
    

